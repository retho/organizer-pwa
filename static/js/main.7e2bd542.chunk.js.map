{"version":3,"sources":["core/router/react.tsx","core/router/A.tsx","core/bem/index.ts","core/bem/core.ts","pages/DemoRouter/utils.ts","pages/DemoRouter/query.ts","router/routes.tsx","router/Router.tsx","core/redux.ts","core/router/core.ts","store/slices/todoList.ts","core/utils.ts","components/templates/MainLayout/index.ts","components/forPages/FooterTabs/index.ts","core/ls.ts","storage/todos.ts","pages/AboutPage/AboutPage.tsx","components/templates/MainLayout/component.tsx","pages/DemoPage/TodoEditPage.tsx","pages/DemoRouter/component.tsx","pages/DemoRouter/DemoSorter/component.tsx","pages/DemoRouter/DemoTag/component.tsx","pages/MainPage/MainPage.tsx","components/forPages/FooterTabs/FooterTabs.tsx","pages/MainPage/TodoList/TodoList.tsx","pages/MainPage/TodoListItem/TodoListItem.tsx","pages/SettingsPage/SettingsPage.tsx","pages/SettingsPage/SettingsList/SettingsList.tsx","pages/TodoEditPage/TodoEditPage.tsx","pages/NotFoundPage/component.tsx","components/misc/Preloader/Preloader.tsx","pages/DemoRouter/DemoSorter/index.ts","pages/DemoRouter/DemoSorter/assets/iconSort.svg","pages/DemoRouter/DemoSorter/assets/iconSortDown.svg","pages/DemoRouter/DemoSorter/assets/iconSortUp.svg","pages/DemoRouter/DemoTag/index.ts","pages/MainPage/TodoList/index.ts","pages/MainPage/TodoListItem/index.ts","pages/SettingsPage/SettingsList/index.ts","utils/timestamp.ts","store/slices/app.ts","components/misc/ToastContainer/component.tsx","router/history.ts","store/root.ts","store/index.ts","App.tsx","reportWebVitals.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["routerContext","React","createContext","useRouterContext","useContext","panic","RouterProvider","history","children","forceRender","useForceRender","unlisten","useRef","current","listen","useLayoutEffect","Provider","value","Redirect","to","replace","useHistory","useMemo","push","path","encodeURI","useLocation","location","useRoutes","routes","route","matched","matchRoute","pathname","search","params","query","A","ref","href","onClick","target","restProps","handleClick","useCallback","e","preventDefault","getClickHandler","rel","undefined","forwardRef","bem","preset","rawInitializer","n","m","v","blockName","elemOrMods","argMods","blockOrElemName","modifiers","modClassNames","Object","keys","map","mod","classNameWithModifier","vals","Array","isArray","compact","flat","join","_","getBem","cn","args","filter","x","queryableIstanceDemoSort","prefix","toQuery","sort","field","desc","fromQuery","raw_value","split","query2filters","tags","sampleSortPrefix","demoRouterPageQueryableInstance","queryRaw","queryPayload","filters","console","log","payload","filters2query","payload2query","demo","pattern","declareRouteParams","emptyQueryableInstance","render","root","stringifyRoute","todoList","MainPage","todoNew","todoEdit","todoId","settings","SettingsPage","settingsAbout","AboutPage","demoRouter","tab","allRoutes","values","Router","currentRoute","createSliceName","sn","useSelector","selector","equalityFn","useSelectorOrigin","PUBLIC_URL","process","__dummyParams","qsArrayFormat","UrlPattern","match","mapValues","decodeURIComponent","qsParse","parseBooleans","parseNumbers","arrayFormat","Proxy","get","name","parseQuery","rawQuery","rawParams","stringify","encodeURIComponent","isEmpty","qsStringifyQuery","length","stringifyQuery","sliceName","module","defaultState","fetching","list","slice","createSlice","initialState","reducers","addFetching","state","setList","reset","reducer","actions","loadTodoList","dispatch","a","readTodoList","saveTodo","todo","writeTodo","deleteTodo","removeTodo","error_message","Error","useReducer","s","nbsp","lsGet","key","data","localStorage","getItem","JSON","parse","lsSet","item","setItem","lsUpdate","fn","lskeyTodo","id","lskeyTodoList","readTodo","todoIdsList","union","removeItem","header","backTo","className","MainLayout","DevPage","startsWith","r","DemoRouterPageTab","bemRoot","DevDemoRouter","handleSortChange","t","newTab","disabled","onChange","active","includes","tag","title","replaceAll","ix","DemoSorter","defaultDesc","DemoTag","activeTab","FooterTab","footerTabs","FooterTabs","getColor","actv","variant","color","component","sx","fontSize","TodoList","useDispatch","loading","useEffect","handleChange","task","handleRemove","onRemove","aria-label","LinkComponent","TodoListItem","items","some","done","control","checked","itemId","label","description","SettingsListItem","icon","text","disablePadding","style","width","primary","SettingsList","taskItemEdit","TodoTaskItemEdit","defaultEditMode","onEdit","useState","editMode","setEditMode","nanoid","editedValue","setEditedValue","val","TodoEditPage","editedTodoId","created_at","set_created_at","setTitle","taskItems","setTaskItems","editedTask","setEditedTask","editedTodo","handleTaskEdit","handleOk","timestamp","Date","NotFoundPage","Preloader","Backdrop","open","zIndex","theme","drawer","CircularProgress","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","d","SvgIconSort","_ref","svgRef","titleId","props","focusable","role","xmlns","viewBox","ForwardRef","SvgIconSortDown","SvgIconSortUp","date","toISOString","crashed","ToastContainer","createBrowserHistory","rootReducer","combineReducers","app","store","configureStore","middleware","getDefaultMiddleware","thunk","extraArgument","immutableCheck","serializableCheck","Root","StrictMode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","createTheme","palette","main","secondary","ReactDOM","ThemeProvider","App","document","getElementById","URL","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.7e2bd542.chunk.js","sourcesContent":["import {History, Location} from 'history';\nimport React, {FC, useContext, useLayoutEffect, useMemo, useRef} from 'react';\n\nimport {panic, useForceRender} from '../utils';\nimport {Href, matchRoute, Route} from './core';\n\ntype RouterContext = {\n  history: History;\n};\nconst routerContext = React.createContext<null | RouterContext>(null);\nconst useRouterContext = (): RouterContext =>\n  useContext(routerContext) || panic('No router context provided');\n\nexport const RouterProvider: FC<{history: History}> = ({history, children}) => {\n  const forceRender = useForceRender();\n\n  const unlisten = useRef<() => void>();\n  if (!unlisten.current) {\n    unlisten.current = history.listen(forceRender);\n  }\n  useLayoutEffect(() => {\n    return unlisten.current;\n  }, []);\n\n  return <routerContext.Provider value={{history}}>{children}</routerContext.Provider>;\n};\n\nexport const Redirect: FC<{to: Href}> = ({to}) => {\n  const {history} = useRouterContext();\n  useLayoutEffect(() => {\n    history.replace(to);\n  }, []);\n  return null;\n};\n\ntype UsedHistory = {\n  push: (path: Href) => void;\n  replace: (path: Href) => void;\n};\nexport const useHistory = (): UsedHistory => {\n  const {history} = useRouterContext();\n  return useMemo(() => {\n    return {\n      push: (path: Href) => history.push(encodeURI(path)),\n      replace: (path: Href) => history.replace(encodeURI(path)),\n    };\n  }, []);\n};\n\nexport const useLocation = (): Location => {\n  const {history} = useRouterContext();\n  return history.location;\n};\n\nexport const useRoutes = <R extends Route<unknown, unknown>>(\n  routes: R[]\n): null | {route: R; params: unknown; query: unknown} => {\n  const location = useLocation();\n\n  return useMemo(() => {\n    for (const r of routes) {\n      const route = r;\n      const matched = matchRoute(route, location.pathname, location.search);\n      if (matched) {\n        const {params, query} = matched;\n        return {route, params, query};\n      }\n    }\n    return null;\n  }, [routes, location.pathname, location.search]);\n};\n","import React, {MouseEvent, useCallback} from 'react';\nimport {useHistory} from 'src/core/router/react';\nimport { Href } from './core';\n\ntype OnClickType = (event: React.MouseEvent<HTMLAnchorElement>) => void;\n\nconst getClickHandler = (\n  history: ReturnType<typeof useHistory>,\n  href?: Href,\n  onClick?: OnClickType\n) => (e: MouseEvent<HTMLAnchorElement>) => {\n  e.preventDefault();\n  if (href) {\n    history.push(href);\n  }\n  if (onClick) onClick(e);\n};\n\ntype Props = {href: Href} & React.AnchorHTMLAttributes<HTMLAnchorElement>\nconst A: React.ForwardRefRenderFunction<\n  HTMLAnchorElement,\n  Props\n> = ({href, onClick, target, ...restProps}, ref) => {\n  const history = useHistory();\n  const handleClick = useCallback(getClickHandler(history, href, onClick), [href, onClick]);\n\n  return (\n    <a\n      ref={ref}\n      href={href}\n      target={target}\n      rel=\"noopener noreferrer\"\n      onClick={target !== '_blank' ? handleClick : undefined}\n      {...restProps}\n    />\n  );\n};\n\nexport default React.forwardRef(A);\n","import {BemFormatter, genBemFormatter} from './core';\n\ntype Initializer = (moduleId: ModuleId, blockName: string) => BemFormatter;\n\nconst getBem = (): Initializer => {\n  const existingBlocks: Record<string, ModuleId> = {};\n  const rawInitializer = genBemFormatter({n: '', e: '__', m: '--', v: '_'});\n\n  const bem: Initializer =\n    process.env.NODE_ENV === 'production'\n      ? (_, blockName) => rawInitializer(blockName)\n      : (moduleId, blockName) => {\n          const otherModuleId = existingBlocks[blockName];\n          if (otherModuleId && otherModuleId !== moduleId)\n            throw new Error(\n              `bem-block with name '${blockName}' already exists: ${moduleId} ${otherModuleId}`\n            );\n          existingBlocks[blockName] = moduleId;\n          return rawInitializer(blockName);\n        };\n  return bem;\n};\n\nexport const bem: Initializer = getBem();\n\nexport const cn = (...args: (boolean | null | undefined | string)[]): string =>\n  args.filter(x => x).join(' ');\n","import {compact} from 'lodash-es';\n\ntype Preset = {\n  n?: string;\n  e?: string;\n  m?: string;\n  v?: string;\n};\n\ntype BemModifiers = Record<string, boolean | string | string[]>;\ntype BemFormatterBlock = (modifiers?: BemModifiers) => string;\ntype BemFormatterElem = (elem: string, modifiers?: BemModifiers) => string;\nexport type BemFormatter = BemFormatterBlock & BemFormatterElem;\n\nexport const genBemFormatter = (preset: Preset) => (blockName: string): BemFormatter => (\n  elemOrMods?: string | BemModifiers,\n  argMods?: BemModifiers\n) => {\n  const blockOrElemName =\n    preset.n + blockName + (typeof elemOrMods === 'string' ? preset.e + elemOrMods : '');\n  const modifiers = typeof elemOrMods === 'string' ? argMods : elemOrMods;\n\n  const modClassNames =\n    modifiers &&\n    Object.keys(modifiers)\n      .map(mod => {\n        const classNameWithModifier = blockOrElemName + preset.m + mod;\n        const value = modifiers[mod];\n        if (value === false) return [];\n        if (value === true) {\n          return [classNameWithModifier];\n        }\n        const vals = Array.isArray(value) ? value : [value];\n\n        return compact(vals.map(v => v && classNameWithModifier + preset.v + v));\n      })\n      .flat();\n\n  const classNames: string[] = [blockOrElemName, ...(modClassNames || [])];\n\n  return classNames.join(' ');\n};\n","import {Queryable} from 'src/core/router';\n\nimport {DemoSort} from './DemoSorter';\n\nexport const queryableIstanceDemoSort = <T extends string>(\n  prefix: string\n): Queryable<null | DemoSort<T>> => ({\n  toQuery: sort => ({\n    [`${prefix}SortBy`]: (sort && [`${sort.field};${sort.desc ? 'desc' : 'asc'}`]) || [],\n  }),\n  fromQuery: query => {\n    const raw_value = query[`${prefix}SortBy`][0];\n    if (!raw_value) return null;\n    const [field, order] = raw_value.split(';');\n    return {field: field as T, desc: order === 'desc'};\n  },\n});\n","import {compact} from 'lodash-es';\nimport {Queryable, RawQuery} from 'src/core/router';\n\nimport {DemoSort} from './DemoSorter';\nimport {queryableIstanceDemoSort} from './utils';\n\ntype Filters = {\n  search: string;\n  tags: string[];\n};\n\ntype SampleSortColumns = 'a' | 'b';\nexport type QueryPayload = {\n  filters: Filters;\n  sort: null | DemoSort<SampleSortColumns>;\n};\n\nconst filters2query = (filters: Filters): RawQuery => {\n  return {\n    search: [filters.search],\n    tags: filters.tags,\n  };\n};\nconst query2filters = (query: RawQuery): Filters => {\n  return {\n    search: query.search[0] || '',\n    tags: compact(query.tags),\n  };\n};\n\nconst sampleSortPrefix = 'samplePrefix';\nconst payload2query = (payload: QueryPayload): RawQuery => {\n  const {filters, sort} = payload;\n  return {\n    ...filters2query(filters),\n    ...queryableIstanceDemoSort(sampleSortPrefix).toQuery(sort),\n  };\n};\nconst query2payload = (query: RawQuery): QueryPayload => {\n  return {\n    filters: query2filters(query),\n    sort: queryableIstanceDemoSort<SampleSortColumns>(sampleSortPrefix).fromQuery(query),\n  };\n};\n\nexport const demoRouterPageQueryableInstance: Queryable<QueryPayload> = {\n  fromQuery: queryRaw => {\n    const queryPayload = query2payload(queryRaw);\n    // eslint-disable-next-line no-console\n    console.log('fromQuery:', queryRaw, '=>', queryPayload);\n    return queryPayload;\n  },\n  toQuery: queryPayload => {\n    const queryRaw = payload2query(queryPayload);\n    // eslint-disable-next-line no-console\n    console.log('toQuery:', queryPayload, '=>', queryRaw);\n    return queryRaw;\n  },\n};\n","import React from 'react';\nimport {emptyQueryableInstance, Redirect, Route, stringifyRoute} from 'src/core/router';\nimport {declareRouteParams} from 'src/core/router/core';\nimport AboutPage from 'src/pages/AboutPage';\nimport DemoPage from 'src/pages/DemoPage';\nimport DemoRouter, {DemoRouterPageTab} from 'src/pages/DemoRouter';\nimport {demoRouterPageQueryableInstance} from 'src/pages/DemoRouter/query';\nimport MainPage from 'src/pages/MainPage';\nimport SettingsPage from 'src/pages/SettingsPage';\nimport TodoEditPage from 'src/pages/TodoEditPage';\n\nexport type AppRoute<Params, Query> = Route<Params, Query> & {\n  render: (params: Params, query: Query) => JSX.Element;\n};\nconst createRoute = <Params extends Record<string, string>, Query>(\n  route: AppRoute<Params, Query>\n): AppRoute<Params, Query> => route;\n\n// =\nexport const demo = createRoute({\n  pattern: '/demo',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <DemoPage />,\n});\nexport const root = createRoute({\n  pattern: '/',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <Redirect to={stringifyRoute(todoList, {}, {})} />,\n});\n\n// =\nexport const todoList = createRoute({\n  pattern: '/todo/list',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <MainPage />,\n});\nexport const todoNew = createRoute({\n  pattern: '/todo/new',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <TodoEditPage />,\n});\nexport const todoEdit = createRoute({\n  pattern: '/todo/:todoId/edit',\n  params: declareRouteParams<{todoId: string}>(),\n  query: emptyQueryableInstance,\n  render: ({todoId}) => <TodoEditPage todoId={todoId} />,\n});\n\nexport const settings = createRoute({\n  pattern: '/settings',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <SettingsPage />,\n});\nexport const settingsAbout = createRoute({\n  pattern: '/settings/about',\n  params: declareRouteParams(),\n  query: emptyQueryableInstance,\n  render: () => <AboutPage />,\n});\n\nexport const demoRouter = createRoute({\n  pattern: '/demo/demo-router/:tab',\n  params: declareRouteParams<{tab: DemoRouterPageTab}>(),\n  query: demoRouterPageQueryableInstance,\n  render: ({tab}, query) => <DemoRouter tab={tab} query={query} />,\n});\n","import React, {FC} from 'react';\nimport {useRoutes} from 'src/core/router';\nimport NotFoundPage from 'src/pages/NotFoundPage';\n\nimport * as routes from './routes';\nimport {AppRoute} from './routes';\n\nconst allRoutes = Object.values(routes) as AppRoute<unknown, unknown>[];\n\nconst Router: FC = () => {\n  const currentRoute = useRoutes(allRoutes);\n  if (!currentRoute) return <NotFoundPage />;\n  const {route, params, query} = currentRoute;\n  return route.render(params, query);\n};\n\nexport default Router;\n","// eslint-disable-next-line no-restricted-imports\nimport {useSelector as useSelectorOrigin} from 'react-redux';\nimport {AppRootState} from 'src/store';\n\n// eslint-disable-next-line no-restricted-imports\nexport {useDispatch, useStore} from 'react-redux';\n// eslint-disable-next-line no-restricted-imports\nexport {createSlice, createAction, combineReducers} from '@reduxjs/toolkit';\n// eslint-disable-next-line no-restricted-imports\nexport type {PayloadAction} from '@reduxjs/toolkit';\n\nconst slicenameCreator = () => {\n  if (process.env.NODE_ENV === 'development') {\n    const alreadyUsed: Record<string, ModuleId> = {};\n    return (moduleId: ModuleId, sn: string) => {\n      const alreadyUsedSliceModule = alreadyUsed[sn];\n      if (alreadyUsedSliceModule)\n        throw new Error(\n          `Slice with name '${sn}' already exists in modules \"${alreadyUsedSliceModule}\" and \"${moduleId}\"`\n        );\n      alreadyUsed[sn] = moduleId;\n      return sn;\n    };\n  }\n  return (_: ModuleId, sn: string) => sn;\n};\nexport const createSliceName = slicenameCreator();\n\nexport const useSelector = <TSelected>(\n  selector: (state: AppRootState) => TSelected,\n  equalityFn?: (left: TSelected, right: TSelected) => boolean\n): TSelected => useSelectorOrigin(selector, equalityFn);\n","import {isEmpty, mapValues} from 'lodash-es';\nimport {parse as qsParse, stringify as qsStringifyQuery} from 'query-string';\nimport {Brand} from 'src/core/utils';\nimport UrlPattern from 'url-pattern';\n\nexport type RawQuery = Record<string, [undefined] | string[]>;\n\nconst PUBLIC_URL = process.env.PUBLIC_URL || '';\n\nexport type Queryable<T extends unknown> = {\n  toQuery: (payload: T) => RawQuery;\n  fromQuery: (query: RawQuery) => T;\n};\nexport const emptyQueryableInstance: Queryable<Record<string, never>> = {\n  fromQuery: () => ({}),\n  toQuery: () => ({}),\n};\n\nexport type Paramable<T extends unknown> = {\n  __dummyParams: T;\n};\nexport const declareRouteParams = <T = Record<string, never>>(): Paramable<T> => ({\n  __dummyParams: (null as unknown) as T,\n});\n\nexport type Route<Params, Query> = {\n  pattern: string;\n  query: Queryable<Query>;\n  params: Paramable<Params>;\n};\n\ndeclare const hrefbrand: unique symbol;\nexport type Href = Brand<typeof hrefbrand, string>;\n\nconst qsArrayFormat = 'none';\nconst parseQuery = (search: string): RawQuery => {\n  const query = mapValues(\n    qsParse(search, {\n      parseBooleans: false,\n      parseNumbers: false,\n      arrayFormat: qsArrayFormat,\n    }),\n    x => (Array.isArray(x) ? x : (x && [x]) || []).map(decodeURIComponent)\n  );\n\n  const proxy = new Proxy(query, {\n    get: (target, name) => target[name as string] || [],\n  });\n\n  return proxy;\n};\nconst stringifyQuery = (rawQuery: RawQuery) =>\n  isEmpty(rawQuery)\n    ? ''\n    : `?${qsStringifyQuery(\n        mapValues(rawQuery, x => (x && x.length === 1 ? x[0] || undefined : x)),\n        {arrayFormat: qsArrayFormat}\n      )}`;\n\nexport const matchRoute = <Params, Query>(\n  route: Route<Params, Query>,\n  pathname: string,\n  search: string\n): null | {params: Params; query: Query} => {\n  const urlPattern = new UrlPattern(PUBLIC_URL + route.pattern);\n  const matched: null | Record<string, string> = urlPattern.match(pathname);\n\n  if (!matched) return null;\n\n  const rawParams = mapValues(matched, decodeURIComponent);\n  const params = (rawParams as unknown) as Params;\n  const query = route.query.fromQuery(parseQuery(search));\n\n  return {params, query};\n};\n\nexport const stringifyRoute = <Params, Query>(\n  route: Route<Params, Query>,\n  params: Params,\n  query: Query\n): Href => {\n  const pattern = new UrlPattern(PUBLIC_URL + route.pattern);\n  const rawQuery = route.query.toQuery(query);\n  const rawParams =\n    params && typeof params === 'object' ? ((params as unknown) as Record<string, string>) : null;\n  return (pattern.stringify(rawParams && mapValues(rawParams, encodeURIComponent)) +\n    (isEmpty(query) ? '' : stringifyQuery(rawQuery))) as Href;\n};\n","import {createSlice, createSliceName} from 'src/core/redux';\nimport {PayloadAction} from 'src/core/redux';\nimport {readTodoList, removeTodo, TodoTask, writeTodo} from 'src/storage/todos';\n\nimport {AppThunk} from '..';\n\nconst sliceName = createSliceName(module.id, 'todoList');\n\ntype State = {\n  fetching: number;\n  list: null | TodoTask[];\n};\nconst defaultState: State = {\n  fetching: 0,\n  list: null,\n};\nconst slice = createSlice({\n  name: sliceName,\n  initialState: defaultState,\n  reducers: {\n    addFetching: (state, {payload}: PayloadAction<1 | -1>) => ({\n      ...state,\n      fetching: state.fetching + payload,\n    }),\n    setList: (state, {payload}: PayloadAction<State['list']>) => ({\n      ...state,\n      list: payload,\n    }),\n    reset: () => defaultState,\n  },\n});\n\nexport const {reducer} = slice;\nexport const {reset, addFetching, setList} = slice.actions;\n\nexport const loadTodoList = (): AppThunk => async dispatch => {\n  dispatch(addFetching(1));\n  const list = readTodoList();\n  dispatch(setList(list));\n  dispatch(addFetching(-1));\n};\n\nexport const saveTodo = (todo: TodoTask): AppThunk => async dispatch => {\n  dispatch(addFetching(1));\n  writeTodo(todo);\n  dispatch(addFetching(-1));\n};\n\nexport const deleteTodo = (todoId: string): AppThunk => async dispatch => {\n  dispatch(addFetching(1));\n  removeTodo(todoId);\n  dispatch(addFetching(-1));\n};\n","import {useReducer} from 'react';\n\nexport const panic = (error_message: string): never => {\n  throw new Error(error_message);\n};\nexport const assertNever = (val: never): never =>\n  panic(`Unexpected never value: ${JSON.stringify(val)}`);\nexport const assertNeverWithoutPanic = (val: never): void => val;\n\nexport const useForceRender = (): (() => void) => useReducer(s => s + 1, 0)[1];\n\nexport const sleep = (ms: number): Promise<void> => new Promise(rsv => setTimeout(rsv, ms));\n\nexport const nbsp = '\\xa0';\nexport const dash = 'â€”';\n\n// eslint-disable-next-line\nexport {nanoid} from '@reduxjs/toolkit';\n\n// * https://habr.com/ru/company/oleg-bunin/blog/499634/\n// * https://spin.atomicobject.com/2018/01/15/typescript-flexible-nominal-typing/\ndeclare const brand: unique symbol;\ndeclare const flavor: unique symbol;\nexport type Brand<U extends symbol | string, T> = {[brand]: U} & T;\nexport type Flavor<U extends symbol | string, T> = {[flavor]?: U} & T;\n\n// * https://stackoverflow.com/questions/33915459/algebraic-data-types-in-typescript\n// * https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#discriminated-unions\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport type ADT<K extends string, P = {}> = {kind: K} & P;\n\nexport type ResultOk<R> = ADT<'ok', {payload: R}>;\nexport type ResultErr<E> = ADT<'err', {error: E}>;\nexport type Result<E, R> = ResultErr<E> | ResultOk<R>;\nexport const ok = <R>(payload: R): ResultOk<R> => ({kind: 'ok', payload});\nexport const err = <E>(error: E): ResultErr<E> => ({kind: 'err', error});\n","export * from './component';\nexport {default} from './component';\n","export * from './FooterTabs';\nexport {default} from './FooterTabs';\n","import {Brand} from './utils';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ntype LocalStorageKey<T> = Brand<'LocalStorageKey', string>;\nexport const lskey = <T>(key: string): LocalStorageKey<T> => key as LocalStorageKey<T>;\n\nexport const lsGet = <T>(key: LocalStorageKey<T>): null | T => {\n  const data = localStorage.getItem(key);\n  return data && JSON.parse(data);\n};\nexport const lsSet = <T>(key: LocalStorageKey<T>, item: T): void =>\n  localStorage.setItem(key, JSON.stringify(item));\nexport const lsRemove = <T>(key: LocalStorageKey<T>): void => localStorage.removeItem(key);\nexport const lsUpdate = <T>(key: LocalStorageKey<T>, fn: (storedValue: null | T) => T): void =>\n  lsSet(key, fn(lsGet(key)));\n","import {compact, union} from 'lodash-es';\nimport {lsGet, lskey, lsRemove, lsSet, lsUpdate} from 'src/core/ls';\nimport {Timestamp} from 'src/utils/timestamp';\n\nconst lskeyTodo = (id: string) => lskey<TodoTask>(`todo-${id}`);\nconst lskeyTodoList = lskey<string[]>('todolist');\n\nexport type TodoTaskItem = {id: string; done: boolean; description: string};\nexport type TodoTask = {\n  id: string;\n  created_at: Timestamp;\n  title: string;\n  items: TodoTaskItem[];\n};\n\nexport const readTodo = (id: string): null | TodoTask => lsGet(lskeyTodo(id));\n\nexport const writeTodo = (todo: TodoTask): void => {\n  lsSet(lskeyTodo(todo.id), todo);\n  lsUpdate(lskeyTodoList, todoIdsList => union(todoIdsList || [], [todo.id]));\n};\n\nexport const removeTodo = (id: string): void => {\n  lsRemove(lskeyTodo(id));\n  lsUpdate(lskeyTodoList, todoIdsList => (todoIdsList || []).filter(x => x !== id));\n};\n\nexport const readTodoList = (): TodoTask[] =>\n  compact((lsGet(lskeyTodoList) || []).map(id => lsGet(lskeyTodo(id))));\n","import './styles.scss';\n\nimport {Paper} from '@mui/material';\nimport React, {FC} from 'react';\nimport MainLayout from 'src/components/templates/MainLayout';\nimport {bem} from 'src/core/bem';\nimport {stringifyRoute} from 'src/core/router';\nimport {routes} from 'src/router';\n\nconst root = bem(module.id, 'AboutPage');\nconst AboutPage: FC = () => {\n  return (\n    <MainLayout header={'About'} backTo={stringifyRoute(routes.settings, {}, {})}>\n      <Paper className={root()}>\n        <div>Build time: {process.env.REACT_APP_BUILD_TIME || 'N/A'}</div>\n        <div>Commit SHA (short): {process.env.REACT_APP_COMMIT_SHA_SHORT || 'N/A'}</div>\n        <div>Commit SHA (full): {process.env.REACT_APP_COMMIT_SHA_FULL || 'N/A'}</div>\n      </Paper>\n    </MainLayout>\n  );\n};\n\nexport default AboutPage;\n","import './styles.scss';\n\nimport {ArrowBack} from '@mui/icons-material';\nimport {Paper} from '@mui/material';\nimport React, {FC, ReactNode} from 'react';\nimport {bem} from 'src/core/bem';\nimport {Href, A} from 'src/core/router';\n\nconst root = bem(module.id, 'MainLayout');\n\ntype Props = {\n  backTo?: Href;\n  header: string | ReactNode;\n};\nconst MainLayout: FC<Props> = ({backTo, header, children}) => {\n  return (\n    <div className={root()}>\n      <Paper className={root('header')}>\n        {backTo && (\n          <A href={backTo} className={root('backIcon')}>\n            <ArrowBack />\n          </A>\n        )}\n        {header}\n      </Paper>\n      <div className={root('body')}>\n        <div className={root('bodyContainer')}>{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import './styles.scss';\n\nimport React, {FC} from 'react';\nimport {bem} from 'src/core/bem';\nimport {routes} from 'src/router';\n\nconst root = bem(module.id, 'DevPage');\nconst DevPage: FC = () => {\n  const pattern = routes.demo.pattern;\n  return (\n    <div className={root()}>\n      <ul>\n        {Object.values(routes)\n          .filter(x => x.pattern.startsWith(pattern) && x.pattern !== pattern)\n          .map(r => (\n            <li key={r.pattern}>\n              <a href={r.pattern}>{r.pattern}</a>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default DevPage;\n","import './styles.scss';\n\nimport React, {FC, Fragment} from 'react';\nimport {bem} from 'src/core/bem';\nimport {stringifyRoute, useHistory, useLocation} from 'src/core/router';\nimport {nbsp} from 'src/core/utils';\nimport {routes} from 'src/router';\n\nimport DemoSorter, {DemoSort} from './DemoSorter';\nimport DemoTag from './DemoTag';\nimport {QueryPayload} from './query';\n\nexport enum DemoRouterPageTab {\n  tab1 = 'first-tab',\n  tab2 = 'second-tab',\n  tab3 = 'third-tab',\n}\n\nconst tags = ['tag1', 'tag2', 'tag3'];\n\nconst bemRoot = bem(module.id, 'DemoRouter');\ntype Props = {\n  tab: DemoRouterPageTab;\n  query: QueryPayload;\n};\nconst DevDemoRouter: FC<Props> = ({tab, query}) => {\n  const location = useLocation();\n  const history = useHistory();\n\n  const handleTabChange = (newTab: DemoRouterPageTab) =>\n    history.push(\n      stringifyRoute(\n        routes.demoRouter,\n        {tab: newTab},\n        {\n          ...query,\n        }\n      )\n    );\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    history.replace(\n      stringifyRoute(\n        routes.demoRouter,\n        {tab},\n        {\n          ...query,\n          filters: {\n            ...query.filters,\n            search: e.target.value,\n          },\n        }\n      )\n    );\n  };\n  const handleSortChange = (sort: null | DemoSort<'a' | 'b'>) => {\n    history.replace(\n      stringifyRoute(\n        routes.demoRouter,\n        {tab},\n        {\n          ...query,\n          sort,\n        }\n      )\n    );\n  };\n\n  const handleToggleTag = (tag: string) => (active: boolean) => {\n    history.replace(\n      stringifyRoute(\n        routes.demoRouter,\n        {tab},\n        {\n          ...query,\n          filters: {\n            ...query.filters,\n            tags: active ? [...query.filters.tags, tag] : query.filters.tags.filter(t => t !== tag),\n          },\n        }\n      )\n    );\n  };\n\n  return (\n    <div className={bemRoot()}>\n      <div className={bemRoot('controls')}>\n        <div>\n          {Object.values(DemoRouterPageTab).map(t => (\n            <button key={t} onClick={() => handleTabChange(t)} disabled={t === tab}>\n              {t}\n            </button>\n          ))}\n        </div>\n        <br />\n        <label>search {nbsp}</label>\n        <input value={query.filters.search} onChange={handleSearchChange} />\n        <br />\n        <br />\n        <div className={bemRoot('tags')}>\n          {tags.map(t => (\n            <DemoTag\n              key={t}\n              name={t}\n              active={query.filters.tags.includes(t)}\n              onChange={handleToggleTag(t)}\n            />\n          ))}\n        </div>\n        <br />\n        <DemoSorter title=\"a\" field=\"a\" value={query.sort} onChange={handleSortChange} />\n        <DemoSorter title=\"b\" field=\"b\" value={query.sort} onChange={handleSortChange} />\n      </div>\n      <div className={bemRoot('preview')}>\n        {decodeURIComponent(location.search)}\n        <br />\n        <br />\n        activeTab={tab}\n        <br />\n        {JSON.stringify(query, null, 4)\n          .replaceAll(' ', nbsp)\n          .split('\\n')\n          .map((x, ix) => (\n            <Fragment key={ix}>\n              {x}\n              <br />\n            </Fragment>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default DevDemoRouter;\n","import './styles.scss';\n\nimport React, {ReactElement} from 'react';\nimport {bem} from 'src/core/bem';\n\nimport {ReactComponent as IconSort} from './assets/iconSort.svg';\nimport {ReactComponent as IconSortDown} from './assets/iconSortDown.svg';\nimport {ReactComponent as IconSortUp} from './assets/iconSortUp.svg';\n\nexport type DemoSort<F extends string> = {\n  field: F;\n  desc: boolean;\n};\n\nconst bemRoot = bem(module.id, 'DemoSorter');\ntype Props<F extends string> = {\n  title: string;\n  field: F;\n  value: null | DemoSort<F>;\n  onChange: (val: null | DemoSort<F>) => void;\n  defaultDesc?: boolean;\n};\nconst DemoSorter = <F extends string>({\n  title,\n  field,\n  value,\n  onChange,\n  defaultDesc = true,\n}: Props<F>): ReactElement => {\n  const renderIcon = () => {\n    if (value?.field !== field) return <IconSort className={bemRoot('icon')} />;\n    if (value.desc) return <IconSortDown className={bemRoot('icon')} />;\n    return <IconSortUp className={bemRoot('icon')} />;\n  };\n\n  const handleClick = () => {\n    if (field !== value?.field) return onChange({field: field, desc: defaultDesc});\n    if (value.desc === defaultDesc) return onChange({field: field, desc: !value.desc});\n    return onChange(null);\n  };\n\n  return (\n    <div className={bemRoot()} onClick={handleClick}>\n      <div className={bemRoot('icon-wrapper')}>{renderIcon()}</div>\n      <div className={bemRoot('title')}>{title}</div>\n    </div>\n  );\n};\n\nexport default DemoSorter;\n","import './styles.scss';\n\nimport React, {FC} from 'react';\nimport {bem} from 'src/core/bem';\n\nconst bemRoot = bem(module.id, 'DemoTag');\ntype Props = {\n  name: string;\n  active: boolean;\n  onChange: (active: boolean) => void;\n};\nconst DemoTag: FC<Props> = ({name, active, onChange}) => {\n  const handleClick = () => onChange(!active);\n  return (\n    <a className={bemRoot({active})} onClick={handleClick}>\n      #{name}\n    </a>\n  );\n};\n\nexport default DemoTag;\n","import './styles.scss';\n\nimport React, {FC} from 'react';\nimport FooterTabs, {FooterTab} from 'src/components/forPages/FooterTabs';\nimport MainLayout from 'src/components/templates/MainLayout';\nimport {bem} from 'src/core/bem';\n\nimport TodoList from './TodoList';\n\nconst root = bem(module.id, 'MainPage');\nconst MainPage: FC = () => {\n  return (\n    <MainLayout header=\"Todo list\">\n      <div className={root()}>\n        <div className={root('body')}>\n          <TodoList />\n        </div>\n        <FooterTabs className={root('footer')} activeTab={FooterTab.todoList} />\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default MainPage;\n","import './styles.scss';\n\nimport FormatListBulletedSharpIcon from '@mui/icons-material/FormatListBulletedSharp';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport {IconButton, Paper} from '@mui/material';\nimport React, {FC} from 'react';\nimport {bem, cn} from 'src/core/bem';\nimport {A, stringifyRoute} from 'src/core/router';\nimport {routes} from 'src/router';\n\nexport enum FooterTab {\n  todoList = 1,\n  settings,\n}\nconst footerTabs = bem(module.id, 'FooterTabs');\ntype FooterTabsProps = {\n  activeTab: FooterTab;\n  className?: string;\n};\nconst FooterTabs: FC<FooterTabsProps> = ({activeTab, className}) => {\n  const getColor = (actv: boolean) => (actv ? 'primary' : 'default');\n\n  return (\n    <Paper className={cn(className, footerTabs())} variant=\"outlined\">\n      <IconButton\n        color={getColor(activeTab === FooterTab.todoList)}\n        component={A}\n        href={stringifyRoute(routes.todoList, {}, {})}\n      >\n        <FormatListBulletedSharpIcon sx={{fontSize: 32}} />\n      </IconButton>\n      <IconButton\n        color={getColor(activeTab === FooterTab.settings)}\n        component={A}\n        href={stringifyRoute(routes.settings, {}, {})}\n      >\n        <SettingsIcon sx={{fontSize: 32}} />\n      </IconButton>\n    </Paper>\n  );\n};\n\nexport default FooterTabs;\n","import './styles.scss';\n\nimport {Add} from '@mui/icons-material';\nimport {Fab} from '@mui/material';\nimport React, {FC, useEffect} from 'react';\nimport Preloader from 'src/components/misc/Preloader';\nimport {bem} from 'src/core/bem';\nimport {useDispatch, useSelector} from 'src/core/redux';\nimport {A, stringifyRoute} from 'src/core/router';\nimport {routes} from 'src/router';\nimport {TodoTask} from 'src/storage/todos';\nimport {deleteTodo, loadTodoList, saveTodo} from 'src/store/slices/todoList';\n\nimport TodoListItem from '../TodoListItem';\n\nconst root = bem(module.id, 'TodoList');\nconst TodoList: FC = () => {\n  const dispatch = useDispatch();\n\n  const loading = useSelector(state => !!state.todoList.fetching);\n  const todoList = useSelector(state => state.todoList.list);\n\n  useEffect(() => {\n    dispatch(loadTodoList());\n  }, []);\n\n  const handleChange = async (task: TodoTask) => {\n    await dispatch(saveTodo(task));\n    dispatch(loadTodoList());\n  };\n  const handleRemove = async (todoId: string) => {\n    await dispatch(deleteTodo(todoId));\n    dispatch(loadTodoList());\n  };\n\n  return (\n    <div className={root()}>\n      {loading && <Preloader />}\n      {todoList?.map(todo => (\n        <TodoListItem\n          key={todo.id}\n          className={root('item')}\n          value={todo}\n          onChange={handleChange}\n          onRemove={handleRemove}\n        />\n      ))}\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        className={root('add')}\n        LinkComponent={A}\n        href={stringifyRoute(routes.todoNew, {}, {})}\n      >\n        <Add />\n      </Fab>\n    </div>\n  );\n};\n\nexport default TodoList;\n","import './styles.scss';\n\nimport {DeleteTwoTone, EditTwoTone} from '@mui/icons-material';\nimport {Card, CardContent, Checkbox, FormControlLabel, IconButton} from '@mui/material';\nimport React, {FC} from 'react';\nimport {bem, cn} from 'src/core/bem';\nimport {A, stringifyRoute} from 'src/core/router';\nimport {routes} from 'src/router';\nimport {TodoTask} from 'src/storage/todos';\n\nconst root = bem(module.id, 'TodoListItem');\ntype Props = {\n  className?: string;\n  value: TodoTask;\n  onChange: (value: TodoTask) => void;\n  onRemove: (id: string) => void;\n};\nconst TodoListItem: FC<Props> = ({className, value, onChange, onRemove}) => {\n  const handleCheckedChange = (itemId: string) => (_: unknown, checked: boolean) => {\n    onChange({\n      ...value,\n      items: value.items.map(item => {\n        if (item.id !== itemId) return item;\n        return {\n          ...item,\n          done: checked,\n        };\n      }),\n    });\n  };\n\n  return (\n    <Card className={cn(className, root())}>\n      <CardContent>\n        <div className={root('title')}>\n          {value.title}\n          <IconButton\n            LinkComponent={A}\n            href={stringifyRoute(routes.todoEdit, {todoId: value.id}, {})}\n          >\n            <EditTwoTone sx={{fontSize: 24}} />\n          </IconButton>\n          <div className={root('divider')} />\n          <IconButton disabled={value.items.some(x => !x.done)} onClick={() => onRemove(value.id)}>\n            <DeleteTwoTone sx={{fontSize: 24}} />\n          </IconButton>\n        </div>\n        <div>\n          {value.items.map(item => (\n            <div key={item.id}>\n              <FormControlLabel\n                control={<Checkbox checked={item.done} onChange={handleCheckedChange(item.id)} />}\n                label={\n                  <span className={root('itemLabel', {done: item.done})}>{item.description}</span>\n                }\n              />\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default TodoListItem;\n","import './styles.scss';\n\nimport React, {FC} from 'react';\nimport FooterTabs, {FooterTab} from 'src/components/forPages/FooterTabs';\nimport MainLayout from 'src/components/templates/MainLayout';\nimport {bem} from 'src/core/bem';\n\nimport SettingsList from './SettingsList';\n\nconst root = bem(module.id, 'SettingsPage');\nconst SettingsPage: FC = () => {\n  return (\n    <MainLayout header=\"Settings\">\n      <div className={root()}>\n        <div className={root('body')}>\n          <SettingsList />\n        </div>\n        <FooterTabs className={root('footer')} activeTab={FooterTab.settings} />\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default SettingsPage;\n","import './styles.scss';\n\nimport InfoIcon from '@mui/icons-material/Info';\nimport {List, ListItem, ListItemButton, ListItemIcon, ListItemText, Paper} from '@mui/material';\nimport React, {FC, useEffect} from 'react';\nimport {bem} from 'src/core/bem';\nimport {useDispatch} from 'src/core/redux';\nimport {A, Href, stringifyRoute} from 'src/core/router';\nimport {routes} from 'src/router';\nimport {loadTodoList} from 'src/store/slices/todoList';\n\ntype SettingsListItemProps = {\n  href: Href;\n  icon: JSX.Element;\n  text: string;\n};\nconst SettingsListItem: FC<SettingsListItemProps> = ({href, icon, text}) => {\n  return (\n    <ListItem disablePadding>\n      <Paper style={{width: '100%'}}>\n        <ListItemButton component={A} href={href}>\n          <ListItemIcon>{icon}</ListItemIcon>\n          <ListItemText primary={text} />\n        </ListItemButton>\n      </Paper>\n    </ListItem>\n  );\n};\n\nconst root = bem(module.id, 'SettingsList');\nconst SettingsList: FC = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loadTodoList());\n  }, []);\n\n  return (\n    <div className={root()}>\n      <List>\n        <SettingsListItem\n          href={stringifyRoute(routes.settingsAbout, {}, {})}\n          icon={<InfoIcon />}\n          text=\"About\"\n        />\n      </List>\n    </div>\n  );\n};\n\nexport default SettingsList;\n","import './styles.scss';\n\nimport {Close, Done, EditTwoTone} from '@mui/icons-material';\nimport {IconButton, Paper, TextField, Typography} from '@mui/material';\nimport React, {FC, useLayoutEffect, useMemo, useState} from 'react';\nimport Preloader from 'src/components/misc/Preloader';\nimport MainLayout from 'src/components/templates/MainLayout';\nimport {bem} from 'src/core/bem';\nimport {useDispatch, useSelector} from 'src/core/redux';\nimport {stringifyRoute, useHistory} from 'src/core/router';\nimport {nanoid} from 'src/core/utils';\nimport {routes} from 'src/router';\nimport {readTodo, TodoTaskItem} from 'src/storage/todos';\nimport {saveTodo} from 'src/store/slices/todoList';\nimport {Timestamp, timestamp} from 'src/utils/timestamp';\n\nconst taskItemEdit = bem(module.id, 'TodoTaskItemEdit');\ntype TodoTaskItemProps = {\n  value: null | TodoTaskItem;\n  defaultEditMode?: boolean;\n  onChange: (val: TodoTaskItem) => void;\n  onEdit?: (val: TodoTaskItem) => void;\n};\nconst TodoTaskItemEdit: FC<TodoTaskItemProps> = ({value, defaultEditMode, onChange, onEdit}) => {\n  const [editMode, setEditMode] = useState(!!defaultEditMode);\n\n  const [editedValue, setEditedValue] = useState(\n    value || {\n      id: nanoid(),\n      done: false,\n      description: '',\n    }\n  );\n  useLayoutEffect(() => {\n    if (value) setEditedValue(value);\n  }, [value]);\n\n  useLayoutEffect(() => {\n    if (editMode && onEdit) onEdit(editedValue);\n  }, [editedValue]);\n\n  const handleEditDoneBtnClick = () => {\n    if (editMode) {\n      if (!editedValue.description) return;\n      setEditMode(false);\n      onChange(editedValue);\n    } else {\n      setEditMode(true);\n    }\n  };\n\n  return (\n    <div className={taskItemEdit()}>\n      <IconButton className={taskItemEdit('btn')} onClick={handleEditDoneBtnClick}>\n        {editMode ? (\n          <Done sx={{fontSize: 24}} color=\"success\" />\n        ) : (\n          <EditTwoTone sx={{fontSize: 24}} color=\"warning\" />\n        )}\n      </IconButton>\n      <div className={taskItemEdit('description')}>\n        {editMode ? (\n          <TextField\n            className={taskItemEdit('textinput')}\n            variant=\"standard\"\n            value={editedValue.description}\n            onChange={e => setEditedValue(val => ({...val, description: e.target.value}))}\n          />\n        ) : (\n          editedValue.description\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst root = bem(module.id, 'TodoEditPage');\ntype TodoEditPageProps = {\n  todoId?: null | string;\n};\nconst TodoEditPage: FC<TodoEditPageProps> = ({todoId: editedTodoId}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const loading = useSelector(state => !!state.todoList.fetching);\n\n  const todoId = useMemo(() => editedTodoId || nanoid(), [editedTodoId]);\n\n  const [created_at, set_created_at] = useState<null | Timestamp>(null);\n  const [title, setTitle] = useState('');\n  const [taskItems, setTaskItems] = useState<TodoTaskItem[]>([]);\n  const [editedTask, setEditedTask] = useState<null | TodoTaskItem>(null);\n\n  useLayoutEffect(() => {\n    if (editedTodoId) {\n      const editedTodo = readTodo(editedTodoId);\n      if (!editedTodo) return;\n      setTitle(editedTodo.title);\n      setTaskItems(editedTodo.items);\n      set_created_at(editedTodo.created_at);\n    }\n  }, [editedTodoId]);\n\n  const handleTaskEdit = (task: TodoTaskItem) =>\n    setTaskItems(list => list.map(x => (x.id !== task.id ? x : task)));\n  const handleEditNew = (task: TodoTaskItem) => setEditedTask(task);\n  const handleTaskNew = (task: TodoTaskItem) => {\n    setTaskItems(list => [...list, task]);\n    setEditedTask(null);\n  };\n\n  const handleOk = async () => {\n    await dispatch(\n      saveTodo({\n        id: todoId,\n        created_at: created_at || timestamp(new Date()),\n        title,\n        items: taskItems,\n      })\n    );\n    history.push(stringifyRoute(routes.todoList, {}, {}));\n  };\n  const handleClose = () => history.push(stringifyRoute(routes.todoList, {}, {}));\n\n  return (\n    <MainLayout\n      header={editedTodoId ? 'Edit' : 'New'}\n      backTo={stringifyRoute(routes.todoList, {}, {})}\n    >\n      {loading && <Preloader />}\n      <div className={root()}>\n        <div className={root('body')}>\n          <TextField\n            className={root('title')}\n            label=\"Title\"\n            variant=\"standard\"\n            value={title}\n            onChange={e => setTitle(e.target.value)}\n          />\n          <br />\n          <br />\n          <Typography color=\"secondary\">Items:</Typography>\n          <div>\n            {taskItems.map(item => (\n              <TodoTaskItemEdit key={item.id} value={item} onChange={handleTaskEdit} />\n            ))}\n            <TodoTaskItemEdit\n              key={`new-${editedTask?.id || ''}`}\n              value={editedTask}\n              defaultEditMode\n              onEdit={handleEditNew}\n              onChange={handleTaskNew}\n            />\n          </div>\n        </div>\n        <Paper className={root('footer')} variant=\"outlined\">\n          <IconButton className={root('')} onClick={handleOk}>\n            <Done sx={{fontSize: 32}} color=\"success\" />\n          </IconButton>\n          <IconButton className={root('')} onClick={handleClose}>\n            <Close sx={{fontSize: 32}} color=\"error\" />\n          </IconButton>\n        </Paper>\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default TodoEditPage;\n","import './styles.scss';\n\nimport React, {FC} from 'react';\nimport {bem} from 'src/core/bem';\n\nconst root = bem(module.id, 'NotFoundPage');\nconst NotFoundPage: FC = () => {\n  return (\n    <main className={root()}>\n      <section>\n        <span>404</span>\n        <p>The requested path could not be found</p>\n      </section>\n    </main>\n  );\n};\n\nexport default NotFoundPage;\n","import {Backdrop, CircularProgress} from '@mui/material';\nimport React, {FC} from 'react';\n\nconst Preloader: FC = () => {\n  return (\n    <Backdrop open sx={{zIndex: theme => theme.zIndex.drawer + 1}}>\n      <CircularProgress color=\"secondary\" />\n    </Backdrop>\n  );\n};\n\nexport default Preloader;\n","export * from './component';\nexport {default} from './component';\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z\",\n  className: \"\"\n});\n\nfunction SvgIconSort(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"sort\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 320 512\",\n    className: \"svg-inline--fa fa-sort fa-w-10 fa-9x\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSort);\nexport default __webpack_public_path__ + \"static/media/iconSort.05cbe297.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z\",\n  className: \"\"\n});\n\nfunction SvgIconSortDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"sort-down\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 320 512\",\n    className: \"svg-inline--fa fa-sort-down fa-w-10 fa-9x\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSortDown);\nexport default __webpack_public_path__ + \"static/media/iconSortDown.01135035.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z\",\n  className: \"\"\n});\n\nfunction SvgIconSortUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"sort-up\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 320 512\",\n    className: \"svg-inline--fa fa-sort-up fa-w-10 fa-9x\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSortUp);\nexport default __webpack_public_path__ + \"static/media/iconSortUp.58b8c4f7.svg\";\nexport { ForwardRef as ReactComponent };","export * from './component';\nexport {default} from './component';\n","export * from './TodoList';\nexport {default} from './TodoList';\n","export * from './TodoListItem';\nexport {default} from './TodoListItem';\n","export * from './SettingsList';\nexport {default} from './SettingsList';\n","import {Brand} from 'src/core/utils';\n\nexport type Timestamp = Brand<'timestamp', string>; // an ISO string\nexport const timestamp = (date: Date): Timestamp => date.toISOString() as Timestamp;\n","import {createSlice, createSliceName} from 'src/core/redux';\n\nconst sliceName = createSliceName(module.id, 'app');\n\ntype State = {\n  crashed: boolean;\n};\nconst defaultState: State = {\n  crashed: false,\n};\nconst slice = createSlice({\n  name: sliceName,\n  initialState: defaultState,\n  reducers: {\n    reset: () => defaultState,\n  },\n});\n\nexport const {reducer} = slice;\nexport const {reset} = slice.actions;\n","import 'react-toastify/dist/ReactToastify.css';\n\nimport React, {FC} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {ToastContainer as ToastContainerOrigin} from 'react-toastify';\n\nconst ToastContainer: FC = () => {\n  return <ToastContainerOrigin />;\n};\n\nexport default ToastContainer;\n","import {createBrowserHistory} from 'history';\n\nexport const history = createBrowserHistory();\n","import {combineReducers} from 'src/core/redux';\n\nimport {reducer as app} from './slices/app';\nimport {reducer as todoList} from './slices/todoList';\n\nconst rootReducer = combineReducers({\n  app,\n  todoList,\n});\n\nexport {rootReducer as reducer};\n","// eslint-disable-next-line no-restricted-imports\nimport {Action, configureStore, getDefaultMiddleware} from '@reduxjs/toolkit';\nimport {ThunkAction} from 'redux-thunk';\n\nimport {reducer} from './root';\n\nconst thunkExtraArgument = null;\n\nconst store = configureStore({\n  reducer,\n  middleware: [\n    ...getDefaultMiddleware({\n      thunk: {extraArgument: thunkExtraArgument},\n      immutableCheck: true,\n      serializableCheck: true,\n    }),\n  ],\n});\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./root', () => {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const {reducer: newRootReducer} = require('./root').default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppStore = typeof store;\nexport type AppRootState = ReturnType<typeof reducer>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppThunk<R = Promise<void>> = ThunkAction<\n  R,\n  AppRootState,\n  typeof thunkExtraArgument,\n  Action<string>\n>;\n\nexport default store;\n","import React, {FC} from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport {Provider} from 'react-redux';\nimport ToastContainer from 'src/components/misc/ToastContainer';\nimport {RouterProvider} from 'src/core/router';\nimport Router from 'src/router';\nimport {history} from 'src/router/history';\nimport store from 'src/store';\n\nconst Root: FC = () => (\n  <React.StrictMode>\n    <Provider store={store}>\n      <RouterProvider history={history}>\n        <Router />\n        <ToastContainer />\n      </RouterProvider>\n    </Provider>\n  </React.StrictMode>\n);\nexport default Root;\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* eslint-disable no-console */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-restricted-properties */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister(): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'src/styles/preset.scss';\n\nimport {createTheme, ThemeProvider} from '@mui/material';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#e94f37',\n    },\n    secondary: {\n      // main: '#daf7dc',\n      main: '#00b2ca',\n    },\n  },\n});\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}